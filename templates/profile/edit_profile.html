{% extends 'profile/profile.html' %}
{% load static %}

{% block content1 %}
<div class="user-profile">
  <div class="avatar">
    {% if user.image %}
      <img src="{{ user.image.url }}" alt="Profile Picture">
    {% endif %}
  </div>
  <div class="profile-info">
    <p><strong>First Name:</strong> {{ user.first_name }}</p>
    <p><strong>Last Name:</strong> {{ user.last_name }}</p>
  </div>
</div>

<div class="edit-profile-form" style="display: none; margin-top: 20px;">
  <h3>Edit Profile</h3>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <div class="button-container">
      <button type="submit" class="btn btn-primary">Save Changes</button>
      <button type="button" class="btn btn-secondary cancel-edit">Cancel</button>
    </div>
  </form>
</div>

<button type="button" class="btn btn-primary edit-profile" style="margin-top: 20px;">Edit Profile</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const editProfileForm = document.querySelector('.edit-profile-form');
    const editProfileButton = document.querySelector('.edit-profile');
    const cancelEditButton = document.querySelector('.cancel-edit');

    editProfileButton.addEventListener('click', function () {
      editProfileForm.style.display = 'block';
      editProfileButton.style.display = 'none';
    });

    cancelEditButton.addEventListener('click', function () {
      editProfileForm.style.display = 'none';
      editProfileButton.style.display = 'block';
    });
  });
</script>
{% endblock content1 %}